function(asn1c_sources output_variable source_directory)
    file(GLOB _sources ${source_directory}/*.c)
    list(REMOVE_ITEM _sources ${source_directory}/converter-sample.c)
    set(${output_variable} ${_sources} PARENT_SCOPE)
endfunction()

find_program(ASN1C_EXECUTABLE NAMES asn1c DOC "ASN.1 compiler")
if(ASN1C_EXECUTABLE)
    execute_process(COMMAND ${ASN1C_EXECUTABLE} -version ERROR_VARIABLE _asn1c_version)
    string(REGEX MATCH "[0-9]\\.[0-9]\\.[0-9]+" ASN1C_VERSION ${_asn1c_version})
endif()
